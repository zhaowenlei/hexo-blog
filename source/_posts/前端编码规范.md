---
title: 前端编码规范
date: 2016-03-24 15:03:27
category: [前端]
tags: [编码规范]
---

## 规范目的：
为了提高团队开发效率，减少沟通障碍，以及便于后期维护扩展，特制定此规范。本规范一经大家确认，前端开发人员必须按照此规范进行前端开发。规范中如有不恰之处，请及时提出，经讨论后修改或完善此规范。

## 基本准则：
模块化，组件化，语义化jsx（html），结构（jsx）表现（css或less）行为（js）分离。

## 文件规范
1. 架构相关，非业务文件归档至`assets/src/framework`；
1. 业务相关公共组件归档至`assets/src/common`；
1. 业务model归档至`assets/src/model`；
1. 业务模块统一归档至`assets/src/page`；
1. 图片个数超过5个以上，要归档至当前模块文件夹下的`imgs/`文件夹中；
1. 一个功能模块新建一个文件夹，一个模块相关的文件（html，css，js，jsx，images），归档至对应的模块文件夹中，当此模块不需要时，删除此模块对应的文件夹，即可将此模块相关文件全部移除；
1. 文件夹命名：小写英文+连字符（减号），比如：`account-manage`；
1. jsx命名：驼峰式命名，首字母大写，比如：`AccountManage.jsx`；
1. css/less命名：一个模块下基本就包含一个css/less文件，命名为style.css/style.less即可；
1. 图片：小写英文+连字符（减号），比如：`user-avatar.jpg`
1. 文件之间的依赖，统一使用ES6写法：`import request from xxx.jsx`；

## jsx
1. React统一使用ES6写法，baseComponent由公共模块提供
  ```javascript
  // 多加一层继承, 可以在baseComponent中做一些文章.
  class baseComponent extends React.Component{
      // 构造函数
      constructor(props){
          super(props);
      }
      componentDidMount(){
        // If necessary，do something here
      }
      // ...其他公用代码,方法等封装
  }
  ```
  ``` javascript

  //定义类 并继承baseComponent
  class App extends baseComponent{
      // 构造函数
      constructor(props){
          super(props);
      }
      // 初始化state,替代原getInitialState, 注意前面没有static
      state = {
          showMenu:false
      };
      // 替代原propTypes 属性,注意前面有static,属于静态方法.
      static propTypes = {
          autoPlay: React.PropTypes.bool.isRequired
      }
      // 默认defaultProps,替代原getDefaultProps方法, 注意前面有static
      static defaultProps = {
          loading:false
      };
      // 事件的写法,这里要使用箭头函数,箭头函数不会改变this的指向,否则函数内,this指的就不是当前对象了
      // React.CreatClass方式React会自动绑定this,ES6写法不会.详见下一小节说明.
      handleClick = (e)=>{
          this.setState();//这里的this指的还是App
      };
      componentDidMount() {
          // React内置的周期函数,这里要显示的调用父类的相应函数,
          // 否则一旦父类中有封装,子类会把父类相应函数覆盖掉,不会执行父类的函数.
          super.componentDidMount();
          // do something yourself...
      }
  }
  ```
1. 事件处理函数命名，统一handle开头，驼峰式命名，比如：`handleClick` `handleChange`等
1. 事件统一使用箭头函数
  ```javascript
  handleClick = (e) => {
        // Do something here!
    };
  ```
1. 能用ES6写法，尽量使用ES6写法。

**未完待续**
